@{
    ViewBag.Title = "ViewPhotos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using GalleryProject.Models
@model IEnumerable<Photo>

<div>
    <h2>Просмотр фотографий @ViewBag.Gallery.Name</h2>

    <table>
        @foreach (var p in Model)
        {
            <tr>
                <td><p>@p.Description</p></td>
            </tr>
            <tr>
                <td>
                    @Html.Raw("<a href=\"/Photo/PhotoView/"+@p.Id+"\"><img style='width:240px; height:320px;' src=\"data:image/jpeg;base64,"
                                + Convert.ToBase64String(p.Img) + "\" /><a>")
                </td>
            </tr>
            <tr>
                <td>
                    <p>Теги: @p.Tags</p>
                </td>
            </tr>
            <tr>
                <td><p><a href="/Photo/EditPhoto/@p.Id">Редактировать</a></p></td>
                <td><p><a href="/Photo/DeletePhoto/@p.Id">Удалить</a></p></td>
            </tr>
        }
    </table>

    <p><a href="/Photo/AddPhoto/@ViewBag.Gallery.Id">Добавить фотографию</a></p>
</div>
